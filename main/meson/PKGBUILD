# Maintainer: Chris Cromer <cromer@cromnix.org>

pkgname=meson
pkgver=0.42.0
pkgrel=1
pkgdesc='High productivity build system'
arch=('any')
url='http://mesonbuild.com/'
license=('Apache')
depends=('ninja' 'python')
source=("https://github.com/mesonbuild/meson/releases/download/${pkgver}/${pkgname}-${pkgver}.tar.gz")
md5sums=('b2518db2c56348f17a65d5edb04e0c60')

check() {
	cd "${srcdir}/${pkgname}-${pkgver}"
	MESON_PRINT_TEST_OUTPUT=1 LC_CTYPE=en_US.UTF-8 ./run_tests.py
}

package() {
	cd "${srcdir}/${pkgname}-${pkgver}"
	python3 setup.py install --root="${pkgdir}" -O1
}
