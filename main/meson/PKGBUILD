# Maintainer: Chris Cromer <chris@cromer.cl>

pkgname=meson
pkgver=0.40.0
pkgrel=1
pkgdesc='High productivity build system'
arch=('any')
url='http://mesonbuild.com/'
license=('Apache')
depends=('ninja' 'python')
source=("https://github.com/mesonbuild/meson/releases/download/${pkgver}/${pkgname}-${pkgver}.tar.gz")
md5sums=('08e27d8c0c4e139783877d209d7386c8')

check() {
	cd "${srcdir}/${pkgname}-${pkgver}"
	MESON_PRINT_TEST_OUTPUT=1 LC_CTYPE=en_US.UTF-8 ./run_tests.py
}

package() {
	cd "${srcdir}/${pkgname}-${pkgver}"
	python3 setup.py install --root="${pkgdir}" -O1
}
